#N canvas 326 22 933 855 10;
#X obj 134 506 netsend;
#X msg 61 397 disconnect;
#X obj 335 79 symbol \$1;
#X msg 114 104 hue \$1;
#X msg 174 105 sat \$1;
#X msg 233 105 val \$1;
#X msg 63 105 on \$1;
#X obj 115 165 list prepend;
#X msg 115 194 send \$1 \$2 \$3;
#X obj 63 47 inlet;
#X obj 115 47 inlet;
#X obj 174 48 inlet;
#X obj 233 47 inlet;
#X obj 353 1049 symbol;
#X obj 15 1363 spigot 0;
#X msg 70 1334 1;
#X obj 82 1537 outlet;
#X obj 248 1540 outlet;
#X obj 407 1538 outlet;
#X obj 565 1535 outlet;
#X obj 180 1361 spigot 0;
#X obj 337 1363 spigot 0;
#X obj 496 1368 spigot 0;
#X msg 235 1333 1;
#X msg 389 1337 1;
#X msg 546 1338 1, f 5;
#X obj 426 1336 r \$0-c;
#X obj 598 1338 r \$0-c;
#X obj 13 1451 s \$0-c;
#X obj 180 1455 s \$0-c;
#X obj 337 1456 s \$0-c;
#X obj 497 1453 s \$0-c;
#X obj 273 1331 r \$0-c;
#X obj 113 1333 r \$0-c;
#X obj 194 1106 s \$0-f;
#X obj 15 1334 r \$0-f;
#X obj 181 1335 r \$0-f;
#X obj 338 1334 r \$0-f;
#X obj 496 1337 r \$0-f;
#X text 16 -38 Handle die Netzwerk-Kommunikation mit dem bulb.py Server.
Der Name der Abstraktion ist der Name der Bulb. Die vier Inlets erhalten
die neuen Werte on hue sat val \, die vier Outlets senden die abgeholten
Werte zurück.;
#X text 12 1477 s \$0-c schliesst alle gates nach Erhalt des float
;
#X obj 13 1395 t bang float;
#X obj 179 1397 t bang float;
#X obj 337 1397 t bang float;
#X msg 13 1424 0;
#X msg 179 1424 0;
#X msg 337 1425 0;
#X msg 497 1423 0;
#X obj 496 1394 t bang float;
#X msg 239 1050 1;
#X msg 251 1244 0;
#X obj 194 1078 spigot 1;
#X text 235 1107 Ausgelesener float;
#X obj 335 49 loadbang;
#X obj 414 80 symbol \$2;
#X text 336 26 Bulb;
#X text 419 26 Host;
#X text 504 26 Port;
#X obj 499 82 float \$3;
#X msg 167 473 \$1 \$2 \$3;
#X msg 167 397 connect;
#X obj 134 534 == 0;
#X obj 114 75 * 359;
#X obj 174 76 * 100;
#X obj 233 76 * 100;
#X obj 248 1510 / 359;
#X obj 406 1510 / 100;
#X obj 565 1507 / 100;
#X obj 193 1194 sel eof on hue sat val rgb;
#X text 11 1314 on;
#X text 178 1311 hue;
#X text 334 1313 sat;
#X text 494 1313 val;
#X text 678 1309 rgb;
#X obj 744 1535 outlet;
#X obj 167 423 list;
#X obj 167 449 list;
#X obj 675 1368 spigot 0;
#X msg 725 1338 1, f 5;
#X obj 777 1338 r \$0-c;
#X obj 676 1453 s \$0-c;
#X obj 675 1337 r \$0-f;
#X msg 676 1423 0;
#X msg 744 1505 color \$1;
#X text 10 358 zu bulb.py;
#X text 10 791 von bulb.py;
#X obj 675 1394 t bang float;
#X obj 12 339 print out;
#X obj 11 772 print in;
#X obj 12 307 list trim;
#X obj 414 49 loadbang;
#X obj 499 48 loadbang;
#X obj 17 48 inlet;
#X msg 17 104 bang;
#X msg 18 193 send \$1;
#X obj 18 165 list;
#X obj 116 259 spigot 1;
#X text 201 194 z.B. send bulb1 hue 359;
#X text 227 472 z.B. connect raspbery.local 8081;
#X text 173 260 Kein multi-threading und keepalive: Bearbeite nur \,
wenn disconnected, f 69;
#X text 192 1146 Zuerst das symbol aus bulbs.py decodieren \, mit \$0-block
Weiterleitung des Symbols an float blockieren und dann (nächste Message
aus netsend) den float-val auslesen.;
#X obj 278 1050 r \$0-float;
#X obj 251 1275 s \$0-float;
#X obj 11 744 list trim;
#X obj 115 290 t b a b;
#X obj 239 1014 t b a a;
#X obj 185 610 r netreceive;
#X obj 185 736 sel bulb;
#X obj 210 790 spigot 0;
#X msg 185 761 1;
#X obj 184 656 t a a;
#X obj 239 934 spigot 0;
#X obj 210 815 t a a;
#X msg 211 909 1;
#X text 626 616 Reply der Bulb: Sequentielle Messages bulb \; bulb-name
\; opcode \; val \; opcode \; val \; ... eof \;, f 39;
#X text 291 1015 Decoder-Trigger;
#X text 183 504 Sende die Message und decodiere die Antwort \, statt
netsend output (rechtes Outlet) direkt als Response/Reply zum Decode-Trigger
unten separates netreceive für asynchrone Kommunkation zwischen bulb.pd
und bulbs.py.;
#X text 15 1058 von bulb.py;
#X obj 16 1011 list trim;
#X obj 184 710 symbol;
#X obj 211 863 symbol;
#X obj 16 1039 print cmd;
#X obj 336 832 list trim;
#X obj 336 856 symbol;
#X obj 184 683 spigot 1;
#X msg 246 763 0;
#X msg 268 908 0;
#X obj 210 839 spigot 0;
#X text 347 608 eof und unpassender Name stellen die Gatter wieder
auf Anfang, f 34;
#X msg 352 755 0;
#X msg 229 658 1;
#X msg 270 635 bang;
#X obj 211 885 sel bulb-name, f 14;
#X text 243 738 bulb öffnet 1 Gatter;
#X text 399 832 Name der Bulb;
#X text 266 791 durchreichen nach unten;
#X text 296 936 durchreichen nach unten;
#X text 238 684 Decoder bulb, f 8;
#X text 264 841 Decoder bulb-name, f 10;
#X obj 270 610 r \$0-reset;
#X obj 300 909 s \$0-reset;
#X obj 149 1239 s \$0-reset;
#X text 367 907 Reset bei unpassendem Namen (=unpassende Instanz);
#X connect 0 0 61 0;
#X connect 1 0 0 0;
#X connect 2 0 7 1;
#X connect 2 0 95 1;
#X connect 2 0 122 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 96 0;
#X connect 9 0 6 0;
#X connect 10 0 62 0;
#X connect 11 0 63 0;
#X connect 12 0 64 0;
#X connect 13 0 68 0;
#X connect 14 0 41 0;
#X connect 15 0 14 1;
#X connect 20 0 42 0;
#X connect 21 0 43 0;
#X connect 22 0 48 0;
#X connect 23 0 20 1;
#X connect 24 0 21 1;
#X connect 25 0 22 1;
#X connect 26 0 21 1;
#X connect 27 0 22 1;
#X connect 32 0 20 1;
#X connect 33 0 14 1;
#X connect 35 0 14 0;
#X connect 36 0 20 0;
#X connect 37 0 21 0;
#X connect 38 0 22 0;
#X connect 41 0 44 0;
#X connect 41 1 16 0;
#X connect 42 0 45 0;
#X connect 42 1 65 0;
#X connect 43 0 46 0;
#X connect 43 1 66 0;
#X connect 44 0 28 0;
#X connect 45 0 29 0;
#X connect 46 0 30 0;
#X connect 47 0 31 0;
#X connect 48 0 47 0;
#X connect 48 1 67 0;
#X connect 49 0 51 1;
#X connect 50 0 102 0;
#X connect 51 0 34 0;
#X connect 53 0 2 0;
#X connect 54 0 75 1;
#X connect 58 0 76 1;
#X connect 59 0 0 0;
#X connect 60 0 75 0;
#X connect 61 0 96 1;
#X connect 62 0 3 0;
#X connect 63 0 4 0;
#X connect 64 0 5 0;
#X connect 65 0 17 0;
#X connect 66 0 18 0;
#X connect 67 0 19 0;
#X connect 68 0 141 0;
#X connect 68 1 15 0;
#X connect 68 1 50 0;
#X connect 68 2 23 0;
#X connect 68 2 50 0;
#X connect 68 3 24 0;
#X connect 68 3 50 0;
#X connect 68 4 25 0;
#X connect 68 4 50 0;
#X connect 68 5 78 0;
#X connect 68 5 50 0;
#X connect 75 0 76 0;
#X connect 76 0 59 0;
#X connect 77 0 86 0;
#X connect 78 0 77 1;
#X connect 79 0 77 1;
#X connect 81 0 77 0;
#X connect 82 0 80 0;
#X connect 83 0 74 0;
#X connect 86 0 82 0;
#X connect 86 1 83 0;
#X connect 90 0 54 0;
#X connect 91 0 58 0;
#X connect 92 0 93 0;
#X connect 93 0 95 0;
#X connect 94 0 96 0;
#X connect 95 0 94 0;
#X connect 96 0 89 0;
#X connect 96 0 104 0;
#X connect 101 0 51 1;
#X connect 104 0 1 0;
#X connect 104 1 0 0;
#X connect 104 2 60 0;
#X connect 105 0 49 0;
#X connect 105 1 51 0;
#X connect 105 2 13 0;
#X connect 106 0 103 0;
#X connect 106 0 110 0;
#X connect 107 0 109 0;
#X connect 107 0 125 0;
#X connect 108 0 112 0;
#X connect 109 0 108 1;
#X connect 109 0 127 1;
#X connect 110 0 124 0;
#X connect 110 1 108 0;
#X connect 111 0 105 0;
#X connect 111 0 118 0;
#X connect 112 0 127 0;
#X connect 112 1 111 0;
#X connect 113 0 111 1;
#X connect 119 0 107 0;
#X connect 120 0 132 0;
#X connect 122 0 123 0;
#X connect 123 0 132 1;
#X connect 124 0 119 0;
#X connect 125 0 124 1;
#X connect 126 0 127 1;
#X connect 127 0 120 0;
#X connect 129 0 111 1;
#X connect 129 0 127 1;
#X connect 129 0 108 1;
#X connect 130 0 124 1;
#X connect 131 0 129 0;
#X connect 131 0 130 0;
#X connect 132 0 113 0;
#X connect 132 0 126 0;
#X connect 132 1 140 0;
#X connect 139 0 131 0;
#X coords 0 855 1 854 120 180 0;
