#N canvas 326 22 933 855 10;
#X obj 133 548 netsend;
#X msg 60 439 disconnect;
#X obj 335 79 symbol \$1;
#X msg 114 104 hue \$1;
#X msg 174 105 sat \$1;
#X msg 233 105 val \$1;
#X msg 63 105 on \$1;
#X obj 115 165 list prepend;
#X msg 115 194 send \$1 \$2 \$3;
#X obj 63 47 inlet;
#X obj 115 47 inlet;
#X obj 174 48 inlet;
#X obj 233 47 inlet;
#X obj 352 1083 symbol;
#X obj 14 1391 spigot 0;
#X msg 69 1362 1;
#X obj 81 1565 outlet;
#X obj 247 1568 outlet;
#X obj 406 1566 outlet;
#X obj 564 1563 outlet;
#X obj 179 1389 spigot 0;
#X obj 336 1391 spigot 0;
#X obj 495 1396 spigot 0;
#X msg 234 1361 1;
#X msg 388 1365 1;
#X msg 545 1366 1, f 5;
#X obj 425 1364 r \$0-c;
#X obj 597 1366 r \$0-c;
#X obj 14 1479 s \$0-c;
#X obj 179 1483 s \$0-c;
#X obj 336 1484 s \$0-c;
#X obj 496 1481 s \$0-c;
#X obj 272 1359 r \$0-c;
#X obj 112 1361 r \$0-c;
#X obj 193 1140 s \$0-f;
#X obj 14 1362 r \$0-f;
#X obj 180 1363 r \$0-f;
#X obj 337 1362 r \$0-f;
#X obj 495 1365 r \$0-f;
#X text 16 -38 Handle die Netzwerk-Kommunikation mit dem bulb.py Server.
Der Name der Abstraktion ist der Name der Bulb. Die vier Inlets erhalten
die neuen Werte on hue sat val \, die vier Outlets senden die abgeholten
Werte zurück.;
#X text 13 1505 s \$0-c schliesst alle gates nach Erhalt des float
;
#X obj 14 1423 t bang float;
#X obj 178 1425 t bang float;
#X obj 336 1425 t bang float;
#X msg 14 1452 0;
#X msg 178 1452 0;
#X msg 336 1453 0;
#X msg 496 1451 0;
#X obj 495 1422 t bang float;
#X msg 238 1084 1;
#X msg 250 1272 0;
#X obj 193 1112 spigot 1;
#X text 234 1141 Ausgelesener float;
#X obj 335 49 loadbang;
#X obj 414 80 symbol \$2;
#X text 336 26 Bulb;
#X text 419 26 Host;
#X text 504 26 Port;
#X obj 499 82 float \$3;
#X msg 166 515 \$1 \$2 \$3;
#X msg 166 439 connect;
#X obj 133 576 == 0;
#X obj 114 75 * 359;
#X obj 174 76 * 100;
#X obj 233 76 * 100;
#X obj 247 1538 / 359;
#X obj 405 1538 / 100;
#X obj 564 1535 / 100;
#X text 10 1342 on;
#X text 177 1339 hue;
#X text 333 1341 sat;
#X text 493 1341 val;
#X text 677 1337 rgb;
#X obj 743 1563 outlet;
#X obj 166 465 list;
#X obj 166 491 list;
#X obj 674 1396 spigot 0;
#X msg 724 1366 1, f 5;
#X obj 776 1366 r \$0-c;
#X obj 675 1481 s \$0-c;
#X obj 674 1365 r \$0-f;
#X msg 675 1451 0;
#X msg 743 1533 color \$1;
#X text 9 400 zu bulb.py;
#X text 9 825 von bulb.py;
#X obj 674 1422 t bang float;
#X obj 11 381 print out;
#X obj 10 806 print in;
#X obj 11 349 list trim;
#X obj 414 49 loadbang;
#X obj 499 48 loadbang;
#X obj 18 48 inlet;
#X msg 18 193 send \$1;
#X obj 18 165 list;
#X obj 115 301 spigot 1;
#X text 201 194 z.B. send bulb1 hue 359;
#X text 226 514 z.B. connect raspbery.local 8081;
#X text 172 302 Kein multi-threading und keepalive: Bearbeite nur \,
wenn disconnected, f 69;
#X text 191 1174 Zuerst das symbol aus bulbs.py decodieren \, mit \$0-block
Weiterleitung des Symbols an float blockieren und dann (nächste Message
aus netsend) den float-val auslesen.;
#X obj 277 1084 r \$0-float;
#X obj 250 1303 s \$0-float;
#X obj 10 778 list trim;
#X obj 114 332 t b a b;
#X obj 238 1048 t b a a;
#X obj 184 644 r netreceive;
#X obj 184 770 sel bulb;
#X obj 209 824 spigot 0;
#X msg 184 795 1;
#X obj 183 690 t a a;
#X obj 238 968 spigot 0;
#X obj 209 849 t a a;
#X msg 210 943 1;
#X text 625 650 Reply der Bulb: Sequentielle Messages bulb \; bulb-name
\; opcode \; val \; opcode \; val \; ... eof \;, f 39;
#X text 290 1049 Decoder-Trigger;
#X text 182 546 Sende die Message und decodiere die Antwort \, statt
netsend output (rechtes Outlet) direkt als Response/Reply zum Decode-Trigger
unten separates netreceive für asynchrone Kommunkation zwischen bulb.pd
und bulbs.py.;
#X text 14 1092 von bulb.py;
#X obj 15 1045 list trim;
#X obj 183 744 symbol;
#X obj 210 897 symbol;
#X obj 15 1073 print cmd;
#X obj 335 866 list trim;
#X obj 335 890 symbol;
#X obj 183 717 spigot 1;
#X msg 245 797 0;
#X msg 267 942 0;
#X obj 209 873 spigot 0;
#X text 346 642 eof und unpassender Name stellen die Gatter wieder
auf Anfang, f 34;
#X msg 351 789 0;
#X msg 228 692 1;
#X msg 269 669 bang;
#X obj 210 919 sel bulb-name, f 14;
#X text 242 772 bulb öffnet 1 Gatter;
#X text 398 866 Name der Bulb;
#X text 265 825 durchreichen nach unten;
#X text 295 970 durchreichen nach unten;
#X text 237 718 Decoder bulb, f 8;
#X text 263 875 Decoder bulb-name, f 10;
#X obj 269 644 r \$0-reset;
#X obj 299 943 s \$0-reset;
#X obj 148 1267 s \$0-reset;
#X text 366 941 Reset bei unpassendem Namen (=unpassende Instanz);
#X obj 115 269 spigot 1;
#X obj 160 243 r saving_preset;
#X text 261 243 Blockiere das Senden der Bang-Dumps an die Bulb \,
wenn gerade ein Preset gespeichert wird., f 46;
#X text 6 30 anything;
#X obj 192 1222 select eof on hue sat val rgb;
#X connect 0 0 61 0;
#X connect 1 0 0 0;
#X connect 2 0 7 1;
#X connect 2 0 93 1;
#X connect 2 0 120 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 141 0;
#X connect 9 0 6 0;
#X connect 10 0 62 0;
#X connect 11 0 63 0;
#X connect 12 0 64 0;
#X connect 13 0 145 0;
#X connect 14 0 41 0;
#X connect 15 0 14 1;
#X connect 20 0 42 0;
#X connect 21 0 43 0;
#X connect 22 0 48 0;
#X connect 23 0 20 1;
#X connect 24 0 21 1;
#X connect 25 0 22 1;
#X connect 26 0 21 1;
#X connect 27 0 22 1;
#X connect 32 0 20 1;
#X connect 33 0 14 1;
#X connect 35 0 14 0;
#X connect 36 0 20 0;
#X connect 37 0 21 0;
#X connect 38 0 22 0;
#X connect 41 0 44 0;
#X connect 41 1 16 0;
#X connect 42 0 45 0;
#X connect 42 1 65 0;
#X connect 43 0 46 0;
#X connect 43 1 66 0;
#X connect 44 0 28 0;
#X connect 45 0 29 0;
#X connect 46 0 30 0;
#X connect 47 0 31 0;
#X connect 48 0 47 0;
#X connect 48 1 67 0;
#X connect 49 0 51 1;
#X connect 50 0 100 0;
#X connect 51 0 34 0;
#X connect 53 0 2 0;
#X connect 54 0 74 1;
#X connect 58 0 75 1;
#X connect 59 0 0 0;
#X connect 60 0 74 0;
#X connect 61 0 94 1;
#X connect 62 0 3 0;
#X connect 63 0 4 0;
#X connect 64 0 5 0;
#X connect 65 0 17 0;
#X connect 66 0 18 0;
#X connect 67 0 19 0;
#X connect 74 0 75 0;
#X connect 75 0 59 0;
#X connect 76 0 85 0;
#X connect 77 0 76 1;
#X connect 78 0 76 1;
#X connect 80 0 76 0;
#X connect 81 0 79 0;
#X connect 82 0 73 0;
#X connect 85 0 81 0;
#X connect 85 1 82 0;
#X connect 89 0 54 0;
#X connect 90 0 58 0;
#X connect 91 0 93 0;
#X connect 92 0 141 0;
#X connect 93 0 92 0;
#X connect 94 0 88 0;
#X connect 94 0 102 0;
#X connect 99 0 51 1;
#X connect 102 0 1 0;
#X connect 102 1 0 0;
#X connect 102 2 60 0;
#X connect 103 0 49 0;
#X connect 103 1 51 0;
#X connect 103 2 13 0;
#X connect 104 0 101 0;
#X connect 104 0 108 0;
#X connect 105 0 107 0;
#X connect 105 0 123 0;
#X connect 106 0 110 0;
#X connect 107 0 106 1;
#X connect 107 0 125 1;
#X connect 108 0 122 0;
#X connect 108 1 106 0;
#X connect 109 0 103 0;
#X connect 109 0 116 0;
#X connect 110 0 125 0;
#X connect 110 1 109 0;
#X connect 111 0 109 1;
#X connect 117 0 105 0;
#X connect 118 0 130 0;
#X connect 120 0 121 0;
#X connect 121 0 130 1;
#X connect 122 0 117 0;
#X connect 123 0 122 1;
#X connect 124 0 125 1;
#X connect 125 0 118 0;
#X connect 127 0 109 1;
#X connect 127 0 125 1;
#X connect 127 0 106 1;
#X connect 128 0 122 1;
#X connect 129 0 127 0;
#X connect 129 0 128 0;
#X connect 130 0 111 0;
#X connect 130 0 124 0;
#X connect 130 1 138 0;
#X connect 137 0 129 0;
#X connect 141 0 94 0;
#X connect 142 0 141 1;
#X connect 145 0 139 0;
#X connect 145 1 15 0;
#X connect 145 1 50 0;
#X connect 145 2 23 0;
#X connect 145 2 50 0;
#X connect 145 3 24 0;
#X connect 145 3 50 0;
#X connect 145 4 25 0;
#X connect 145 4 50 0;
#X connect 145 5 77 0;
#X connect 145 5 50 0;
#X coords 0 855 1 854 120 180 0;
